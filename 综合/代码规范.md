# 代码规范





```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box {
            width: 100px;
            height: 100px;
            background-color: #ccc;
        }
    </style>
</head>

<body>
    <div id="box">
        <button class="btn">toggle</button>
        <button class="btn2">big</button>
        <div class="box">

        </div>
    </div>


    <script>
        // // 不用设计模式写
        // let btn = document.getElementsByClassName("btn")[0];
        // let boxDom = document.getElementsByClassName("box")[0];
        // let flag = true;
        // btn.onclick = function() {
        //     if (flag) {
        //         boxDom.style.display = "none";
        //         flag = false;
        //     } else {
        //         boxDom.style.display = "block";
        //         flag = true;
        //     }
        // }


        // 用设计模式写
        //view
        let boxDom = document.getElementsByClassName("box")[0];
        //model
        let model = {
            isShow: true,
            isBig: false
        }

        //controller 业务逻辑
        function Controller() {
            this.init(); //初始化
        }
        Controller.prototype = {
            constructor: Controller,
            init: function() {
                this.addEvent()
            },
            addEvent: function() {
                let btn = document.getElementsByClassName("btn")[0];
                let btn2 = document.getElementsByClassName("btn2")[0];
                let that = this;
                btn.onclick = function() {
                    model.isShow = !model.isShow;
                    //更改视图了
                    that.render();
                }
                btn2.onclick = function() {
                    model.isBig = true;
                    //更改视图了
                    that.render();
                }
            },
            render: function() { //数据驱动视图的更改
                boxDom.style.display = model.isShow ? "block" : "none";
                boxDom.style.width = model.isBig ? "300px" : "100px";
            }
        }

        new Controller(); //初始化一下


        // mvvm
        //Object.defineProperty  因为使用了ES5的很多特性 
        let _data = {}
        let middle = 111;
        Object.defineProperty(_data, "msg", {
            get() {
                return middle;
            },
            set(val) {
                middle = val;
            }
        });

        console.log(_data.msg); //获取数据的时候，会调用对应对象属性的getter方法
        _data.msg = 222; //设置数据的时候，会调用对应对象属性的setter方法
        console.log(_data.msg);
    </script>


</body>

</html>
```

